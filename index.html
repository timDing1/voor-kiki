<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voor jou üíå</title>
  <meta name="description" content="Een kleine, lieve, interactieve liefdesbrief als webapp üòò" />
  <style>
    :root {
      --bg: #fff7fb;
      --card: #ffffff;
      --text: #1f2937;
      --accent: #ef476f; /* roze/rood */
      --accent-2: #ffd166; /* geel */
      --accent-3: #06d6a0; /* mint */
      --muted: #6b7280;
      --shadow: 0 10px 30px rgba(239,71,111,.15);
      --radius: 18px;
    }
    @media (prefers-color-scheme: dark) {
      :root { --bg:#0b0c10; --card:#12131a; --text:#e5e7eb; --muted:#9ca3af; --shadow: 0 12px 30px rgba(0,0,0,.55);}    }

    * { box-sizing: border-box }
    html, body { height:100% }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--text); overflow-x: hidden; }

    .wrap { min-height: 100dvh; display:grid; place-items:center; padding: clamp(16px, 4vw, 48px); }

    .card { width:min(920px, 100%); background:var(--card); border-radius: var(--radius); box-shadow: var(--shadow); position:relative; overflow:hidden; }

    .ribbon { position:absolute; inset:auto -50px  auto auto; top:20px; rotate: 12deg; background:linear-gradient(135deg, var(--accent), #ff7aa2); color:white; padding:.35rem .9rem; font-weight:700; border-radius:999px; box-shadow: var(--shadow); font-size:.85rem }

    header { padding:clamp(16px,3vw,28px) clamp(16px,4vw,40px); display:flex; align-items:center; gap:14px; border-bottom: 1px dashed rgba(0,0,0,.06) }
    header .emoji { font-size: clamp(34px, 5vw, 50px) }
    header h1 { margin:0; font-size:clamp(22px,4.5vw,34px); line-height:1.15 }
    header small { color: var(--muted) }

    main { padding:clamp(18px,4vw,44px); display:grid; grid-template-columns: 1fr; gap:28px }
    @media (min-width: 840px) { main { grid-template-columns: 1.2fr .8fr; align-items: start } }

    .panel { background:linear-gradient(180deg, rgba(255,255,255,.66), rgba(255,255,255,0)); border:1px solid rgba(0,0,0,.06); border-radius: calc(var(--radius) - 6px); padding: clamp(14px, 2.5vw, 24px) }

    .type { font-size:clamp(18px,3.6vw,22px); line-height:1.6 }
    .muted { color: var(--muted) }

    .btns { display:flex; flex-wrap:wrap; gap:10px; align-items:center }
    button, .chip { appearance:none; border:none; padding:.7rem 1rem; border-radius:12px; background:#f5f6f7; color:var(--text); cursor:pointer; font-weight:600; box-shadow: inset 0 -2px 0 rgba(0,0,0,.05); transition:.2s transform, .2s filter }
    button:hover { transform: translateY(-2px) }
    .primary { background: linear-gradient(180deg, #ffdbe6, #ffc5d7); color:#8b1b3f }
    .good { background: linear-gradient(180deg, #dcffe6, #bff5d7); color:#0e6b4b }
    .chip { font-size:.85rem }

    details { border:1px dashed rgba(0,0,0,.1); border-radius:12px; padding:.7rem 1rem }
    details[open] { background: rgba(0,0,0,.02) }

    .footer { padding: 8px 18px 24px; text-align:center; color:var(--muted) }

    /* Floating hearts background */
    .bg { position: fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden }
    .heart { position:absolute; font-size:12px; opacity:0; animation: float 6s linear forwards }
    @keyframes float { 0%{ transform: translateY(20px) scale(.6) rotate(0deg); opacity:0 } 12%{ opacity:.85 } 100%{ transform: translateY(-110vh) scale(1.3) rotate(18deg); opacity:0 } }

    /* Hidden message */
    .secret { display:none; margin-top:10px; font-size: 1.05rem }

    /* Slider fun */
    .meter { display:grid; gap:8px }
    .meter output { font-weight:800; font-size: 1.8rem; text-align:center }

    .kiss { filter:hue-rotate(-12deg) }

    .badge { display:inline-flex; align-items:center; gap:8px; padding:.45rem .7rem; border:1px solid rgba(0,0,0,.08); border-radius:999px; background:rgba(255,255,255,.6) }

    .toast { position: fixed; left:50%; transform: translateX(-50%); bottom: 18px; background: var(--card); border: 1px solid rgba(0,0,0,.08); padding:.6rem 1rem; border-radius:999px; box-shadow: var(--shadow); z-index: 9; display:none }
  </style>
</head>
<body>
  <!-- Ambient hearts -->
  <div class="bg" id="bg" aria-hidden="true"></div>

  <div class="wrap">
    <article class="card" role="main">
      <span class="ribbon">Speciaal voor jou ‚ú®</span>
      <header>
        <div class="emoji">üíå</div>
        <div>
          <h1>
            Voor <span id="naam">Jou</span>
            <small class="muted" style="display:block">(ja jij daar met die mooie glimlach)</small>
          </h1>
        </div>
      </header>

      <main>
        <section class="panel" aria-live="polite">
          <p class="type" id="type"></p>
          <div class="btns">
            <button class="primary" id="openBtn">Open je cadeautje üéÅ</button>
            <button id="heartBtn" title="Laat wat liefde vallen">Laat harten vallen ‚ù§Ô∏è</button>
            <button class="good" id="secretBtn" title="pssst">Geheime boodschap üîê</button>
            <span class="chip badge" id="petname">Schatje üêª</span>
          </div>
          <p class="secret" id="secret">Ok√© luister... ik vind jou dus officieel <b>geweldig</b>. Zoals, "ik-sta-met-een-stom-hoofd-te-glimlachen-naar-m‚Äôn-telefoon" geweldig. ü•∞</p>
        </section>

        <aside class="panel">
          <h3 style="margin-top:0">Kleine extra's</h3>
          <details>
            <summary>Inside jokes üòÇ</summary>
            <ul>
              <li>TODO: Vervang met jullie grap #1</li>
              <li>TODO: Vervang met jullie grap #2</li>
              <li>TODO: Vervang met jullie grap #3</li>
            </ul>
          </details>

          <details>
            <summary>Hoeveel geef ik om je? üíñ</summary>
            <div class="meter">
              <input type="range" min="0" max="100" value="99" id="slider" />
              <output id="loveOut">99%</output>
            </div>
          </details>

          <details>
            <summary>Kleine quiz üìö</summary>
            <p class="muted">Wat is mijn favoriete ding aan jou?</p>
            <div class="btns">
              <button class="chip">Je humor</button>
              <button class="chip">Je ogen</button>
              <button class="chip">Alles (correct)</button>
            </div>
          </details>

          <details>
            <summary>Cheat codes üéÆ</summary>
            <ul class="muted">
              <li>Druk op <kbd>H</kbd> om harten te laten vallen</li>
              <li>Voer de <i>Konami code</i> in om een extra bericht te zien</li>
              <li>Voeg <code>?naam=JouwNaam</code> toe aan de URL voor personalisatie</li>
            </ul>
          </details>
        </aside>
      </main>

      <div class="footer">
        Gemaakt met üíó en een beetje HTML/JS. ‚Äî <span class="muted">(C) <span id="year"></span> Jouw Naam</span>
      </div>
    </article>
  </div>

  <div class="toast" id="toast">Geheime mode geactiveerd üòé</div>

  <script>
    // ======= Personalisatie via URL =======
    const params = new URLSearchParams(location.search)
    const naamParam = params.get('naam')
    if (naamParam) {
      document.getElementById('naam').textContent = decodeURIComponent(naamParam)
      document.title = `Voor ${decodeURIComponent(naamParam)} üíå`
    }

    // ======= Jaar =======
    document.getElementById('year').textContent = new Date().getFullYear()

    // ======= Typewriter tekst =======
    const text = `Hoi <strong>${naamParam || 'mooie jij'}</strong> ü´∂\n\nIk heb geen bloemen gestuurd (die verwelken), geen chocolade (die verdwijnt), maar iets blijvends: een klein hoekje internet dat helemaal voor jou is.\n\nScroll, klik, speel ‚Äì en onthoud: ik kies elke dag voor jou.`
    const typeEl = document.getElementById('type')
    let i = 0
    ;(function typeWriter(){
      if (i < text.length) {
        const ch = text[i++]
        // simpele HTML-aware typewriter: laat tags meteen vallen
        if (ch === '<') {
          const end = text.indexOf('>', i)
          typeEl.innerHTML += text.slice(i-1, end+1)
          i = end + 1
        } else if (ch === '\n') {
          typeEl.innerHTML += '<br/>'
        } else {
          typeEl.innerHTML += ch
        }
        setTimeout(typeWriter, 16)
      }
    })()

    // ======= Floating hearts =======
    const bg = document.getElementById('bg')
    function dropHearts(count = 18) {
      for (let j = 0; j < count; j++) {
        const span = document.createElement('span')
        span.className = 'heart'
        span.textContent = ['‚ù§','üíï','üíñ','üíò','üíó'][Math.floor(Math.random()*5)]
        span.style.left = Math.random()*100 + 'vw'
        span.style.bottom = '-20px'
        span.style.fontSize = (10 + Math.random()*26) + 'px'
        span.style.animationDuration = (4 + Math.random()*4) + 's'
        span.style.filter = `hue-rotate(${Math.random()*30-15}deg)`
        bg.appendChild(span)
        setTimeout(() => span.remove(), 7000)
      }
    }

    // ambient trickle
    setInterval(()=> dropHearts(2), 2400)

    // ======= Buttons =======
    document.getElementById('heartBtn').addEventListener('click', () => dropHearts(30))
    document.addEventListener('keydown', (e) => { if (e.key.toLowerCase()==='h') dropHearts(35) })

    // Secret toggle
    const secret = document.getElementById('secret')
    document.getElementById('secretBtn').addEventListener('click', () => {
      secret.style.display = secret.style.display === 'block' ? 'none' : 'block'
    })

    // ======= Slider fun =======
    const slider = document.getElementById('slider')
    const out = document.getElementById('loveOut')
    const updateOut = () => {
      const v = Number(slider.value)
      out.textContent = v >= 100 ? '‚àû' : v + '%'
    }
    slider.addEventListener('input', updateOut)
    updateOut()

    // ======= Pet names cycler =======
    const pet = document.getElementById('petname')
    const pets = ['Schatje üêª','Lieve jij ‚ú®','Lieverd üå∑','Knappe jij ü¶ä','Mijn favoriet üí´']
    pet.addEventListener('click', () => {
      pet.textContent = pets[Math.floor(Math.random()*pets.length)]
    })

    // ======= Konami code easter egg =======
    const toast = document.getElementById('toast')
    const K = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a']
    let buffer = []
    window.addEventListener('keydown', (e) => {
      buffer.push(e.key)
      if (buffer.length > K.length) buffer.shift()
      if (K.every((k, i) => buffer[i]?.toLowerCase() === k.toLowerCase())) {
        buffer = []
        showToast('Geheime mode geactiveerd üòé')
        surprise()
      }
    })

    function showToast(msg){ toast.textContent = msg; toast.style.display='block'; setTimeout(()=> toast.style.display='none', 2200) }

    function surprise(){
      dropHearts(60)
      const extra = document.createElement('p')
      extra.className = 'secret'
      extra.style.display = 'block'
      extra.innerHTML = 'Bonus: als je dit leest, ben je officieel mijn <b>favoriete mens</b>. üéâ'
      typeEl.after(extra)
    }

    // ======= "cadeautje" knop =======
    document.getElementById('openBtn').addEventListener('click', () => {
      kissRain()
      showToast('Kusjesregen! üòò')
    })

    function kissRain(){
      for (let i=0;i<42;i++){
        const s = document.createElement('span')
        s.textContent = Math.random()>0.5 ? 'üíã' : 'üòò'
        s.style.position='fixed'
        s.style.left = Math.random()*100 + 'vw'
        s.style.top = '-10px'
        s.style.fontSize = (18 + Math.random()*22) + 'px'
        s.style.transition = 'transform 3s linear, opacity 3s'
        s.className = 'kiss'
        document.body.append(s)
        requestAnimationFrame(() => {
          s.style.transform = `translateY(${110+Math.random()*20}vh)`
          s.style.opacity = '0'
        })
        setTimeout(() => s.remove(), 3200)
      }
    }
  </script>
</body>
</html>
